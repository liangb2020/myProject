package pers.qxllb.common.util.aes;

import com.alibaba.fastjson.JSON;
import lombok.extern.slf4j.Slf4j;
import org.apache.commons.codec.binary.Base64;

import java.nio.charset.StandardCharsets;

/**
 * 无须保镖帮助类
 *
 * @author
 * @createDate 2019/9/29
 */
@Slf4j
public final class WsgUtil {

    /**
     * 解密
     *
     * @param encodeBody 待加密的body
     * @param compress 是否压缩
     * @return String
     */
    public static String decode(byte[] encodeBody, int compress) {
        // 使用无线保镖解密
        byte[] bodyData ;
        String decodedData = null;

        try {
            if (compress == 1) {
                bodyData = GZipUtil.uncompress(SingDuckEncryption.decrypt(encodeBody));
            } else {
                bodyData = SingDuckEncryption.decrypt(encodeBody);
            }

            if (bodyData != null && bodyData.length > 0) {
                decodedData = new String(bodyData, StandardCharsets.UTF_8);
            }
        } catch (Exception e) {
            log.error("decodeBodyByWsg error: " + e.getMessage(), e);
        }

        return decodedData;
    }

    public static String decode(String body, int compress) {
        return decode(Base64.decodeBase64(body), compress);
    }

    /**
     * 获取加密序列号
     *
     * @param body body
     * @return Integer
     */
    public static Integer resolveSecureNo(String body) {
        return SingDuckEncryption.resolveSecureNo(Base64.decodeBase64(body));
    }


    public static String encode(Integer secureNo, String plainText, int compress) {
        try {
            byte[] cipherServiceTicket;
            if (compress == 1) {
                cipherServiceTicket = SingDuckEncryption.encrypt(GZipUtil.compress(plainText), secureNo);
            } else {
                cipherServiceTicket = SingDuckEncryption.encrypt(plainText.getBytes(), secureNo);
            }

            String base64Str = Base64.encodeBase64String(cipherServiceTicket);
            if (compress == 1) {
                if (log.isDebugEnabled()) {
                    log.debug("encodeBodyByWsg origin size: {}, gzip size: {}, wsg size: {}, base64 size: {}",
                        plainText.length(), GZipUtil.compress(plainText).length, cipherServiceTicket.length,
                        base64Str.length());
                }

            }
            return base64Str;
        } catch (Exception e) {
            log.error("encode failed, " + e.getMessage(), e);
        }

        return null;
    }

    /**
     * 加密
     *
     * @param cipherTokenBytes token
     * @param plainText 待加密的文本
     * @param compress 是否压缩
     * @return String
     */
    public static String encode(byte[] cipherTokenBytes, String plainText, int compress) {
        try {
            // 根据密文获取密钥序号
            int secureNo = SingDuckEncryption.resolveSecureNo(cipherTokenBytes);
            return encode(secureNo, plainText, compress);
        } catch (Exception e) {
            log.error("encode failed, " + e.getMessage(), e);
        }
        return null;
    }

    public static void main(String[] args) {

        StringBuffer sb =   new StringBuffer();
        //request
        //sb.append("dTD8cPEy571fG5KdyxvPN1+Zb0t200sp7xb1lPL8iZqRHFjAXO8T2mk95UWXesUvlYVFU7xx3qp30eJ+XQCpMDUMjApDsVLDB68xCWHjSvfd7BXjMiDl+kqOrwtjw37+pzGwPFS/A5dlrEGKg3jGnJdeNPQTY3U1KkK8vSCJEej6tvoyB3ZVodqhdxk4dt+0Wqw/wL+gSDUCjLwVJxzG3Cj6");
        //response
        sb.append("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");
        byte[] encodeBody = Base64.decodeBase64(sb.toString());
        String bodyDecStr = WsgUtil.decode(encodeBody, 1); //压缩用1，非压缩用0
        System.out.println(bodyDecStr);
        System.out.println(JSON.toJSONString(JSON.parse(bodyDecStr),true));



    }



}
